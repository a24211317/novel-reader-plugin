# Novel Reader Plugin（IntelliJ IDEA 小说阅读器）

一个运行在 IntelliJ IDEA 内的本地小说阅读插件，在 IDE 中提供类似控制台的阅读体验，适合在编码间隙阅读本地 txt 小说。

---

## ✨ 功能特性

### 📚 小说阅读
- 在 IDEA 工具窗口中阅读本地小说（txt 文件）
- 阅读区域支持 **正常滚轮上下滚动**
- 字号可配置

### 📖 章节目录
- 自动解析章节标题（如：第 X 章 / 回 / 卷 / 部 / 篇）
- 左侧章节目录可 **显示 / 隐藏**
- 点击章节目录可直接跳转到对应章节标题

### 🔄 连续阅读（上下无限滚动）
- **向下阅读**
  - 滚动到章节底部后，继续向下滚动
  - 自动把「下一章」拼接到当前内容后面
- **向上阅读**
  - 滚动到章节顶部后，继续向上滚动
  - 自动把「上一章」拼接到当前内容前面
- 采用滑动窗口策略，仅保留最近 N 章，避免文本过大导致卡顿

### 💾 阅读进度记忆
- 自动记录：
  - 当前章节
  - 章节内阅读位置
- 下次打开 IDEA 或插件时，自动恢复到上次阅读位置

---

## 🧭 使用方式

1. 打开 IDEA
2. 菜单栏选择：

View -> Tool Windows -> Novel Reader


3. 打开插件设置：



Settings / Preferences -> Tools -> Novel Reader


4. 在设置中：
- 选择本地小说文件（txt）
- 设置字体大小
5. 返回工具窗口开始阅读

---

## 📑 章节识别规则

默认章节识别使用以下正则规则：


第[一二三四五六七八九十百千两〇零0-9]+[章节回卷部篇]


示例可识别：

    第1章 开始
  
    第十回 风云
  
    第一卷 起源
  
    第二部 真相
  
    第三篇 终章


如你的小说章节格式不同，可在 ReaderPanel.kt 中修改 CHAPTER_RE。

⚙️ 性能说明

小说会被按章节切分为临时文件（位于系统临时目录）

阅读时只会加载当前章节附近内容

通过滑动窗口控制内存占用，避免越读越卡

可调参数（在 ReaderPanel.kt 中）：

根据你提供的配置参数信息，以下是优化后的表格展示：

## 🔧 可调参数配置

| 参数名 | 说明 | 建议值 |
|--------|------|--------|
| MAX_KEEP_CHAPTERS| 同时保留的章节数 | 6 ~ 10 |
| AUTO_WHEEL_COUNT| 持续滚动触发加载次数 | 3 ~ 5 |

这些参数可以在 ReaderPanel.kt 文件中进行调整，以优化小说阅读插件的性能表现：

- **MAX_KEEP_CHAPTERS**：控制滑动窗口中同时保留在内存中的章节数量，避免因文本过大导致的卡顿问题
- **AUTO_WHEEL_COUNT**：设置需要连续滚动多少次才会触发自动加载相邻章节的功能，避免误触操作

❓ 常见问题

Q：为什么需要多滚几次才会加载下一章？

A：这是为了避免误触。只有在到达顶部/底部后持续滚动才会触发自动加载，可通过 AUTO_WHEEL_COUNT 调整。

Q：阅读区域为什么不会突然跳走？

A：向上/向下自动加载时，插件会保持当前阅读位置，确保阅读连续性。